replicate start
replicate n
DECLARATIONS
node *start;
node *n;
START
start = starts[jthr_tid()];
while (1) {
  if (PREFETCH) {
    prefetch_and_switch(&start->next);
  }
  n = start->next;
  if (!PREFETCH) {
    jthr_yield();
  }
  if (n == NULL) break;
  start = n;
}
