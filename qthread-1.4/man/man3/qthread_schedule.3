.TH qthread_schedule 3 "NOVEMBER 2006" libqthread "libqthread"
.SH NAME
.BR qthread_schedule ,
.B qthread_schedule_on
\- enqueue a prepared but unscheduled qthread to run
.SH SYNOPSIS
.B #include <qthread/qthread.h>

.I int
.br
.B qthread_schedule
.RI "(qthread_t *" t );
.PP
.I int
.br
.B qthread_schedule_on
.RI "(qthread_t *" t,
.ti +21
.RI "const qthread_shepherd_id_t " shepherd );
.SH DESCRIPTION
These are the companion functions to the
.BR qthread_prepare ()
functions. A qthread_t that was generated by one of those functions is
scheduled to be run by one of these functions.
.PP
The
.BR qthread_schedule_on ()
function overrides the shepherd that the qthread was originally prepared for.
.PP
Functionally,
.BR qthread_fork "(function, arg)"
is equivalent to:
.RS
.PP
.BR qthread_schedule ( qthread_prepare (
.IR function ", " arg
));
.RE
.SH RETURN VALUE
On success, the thread
.I t
is scheduled to run and 0 is returned. On error, a non-zero error code is
returned.
.SH ERRORS
.TP 12
.B ENOMEM
Not enough memory could be allocated for bookkeeping structures.
.SH SEE ALSO
.BR qthread_fork (3),
.BR qthread_fork_to (3),
.BR qthread_prepare (3),
.BR qthread_prepare_for (3),
.BR qthread_schedule (3),
.BR qthread_schedule_on (3)
